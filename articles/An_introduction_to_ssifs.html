<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>An introduction to the Stochastic Search Inconsistency Factor Selection method using the ssifs package â€¢ ssifs</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="An introduction to the Stochastic Search Inconsistency Factor Selection method using the ssifs package">
<meta name="description" content="This document introduces you to the Stochastic Search Variable Inconsistency Factor Selection (SSIFS) method for identifying inconsistencies in network meta-analysis (NMA), and how to implement the method through the **ssifs** R package.
">
<meta property="og:description" content="This document introduces you to the Stochastic Search Variable Inconsistency Factor Selection (SSIFS) method for identifying inconsistencies in network meta-analysis (NMA), and how to implement the method through the **ssifs** R package.
">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ssifs</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.0.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/An_introduction_to_ssifs.html">An introduction to the Stochastic Search Inconsistency Factor Selection method using the ssifs package</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/georgiosseitidis/ssifs/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>An introduction to the Stochastic Search Inconsistency Factor Selection method using the ssifs package</h1>
                        <h4 data-toc-skip class="author">Georgios
Seitidis</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/georgiosseitidis/ssifs/blob/master/vignettes/An_introduction_to_ssifs.Rmd" class="external-link"><code>vignettes/An_introduction_to_ssifs.Rmd</code></a></small>
      <div class="d-none name"><code>An_introduction_to_ssifs.Rmd</code></div>
    </div>

    
    
<style>
body {
text-align: justify}
</style>
<div class="section level3">
<h3 id="quick-revision">Quick Revision<a class="anchor" aria-label="anchor" href="#quick-revision"></a>
</h3>
<p>Stochastic Search Inconsistency Factor Selection (SSIFS) is the
extension of Stochastic Search Variable Selection (SSVS) <span class="citation">(<a href="#ref-george1993variable">George and McCulloch
1993</a>)</span> for identifying inconsistencies in Network
Meta-Analysis (NMA). SSIFS is a two-step method, where in the first step
inconsistency factors are specified, and in the second step, variable
selection on inconsistency factors is performed using the SSVS
method.</p>
</div>
<div class="section level3">
<h3 id="inverse-variance-nma-model">Inverse-variance NMA model<a class="anchor" aria-label="anchor" href="#inverse-variance-nma-model"></a>
</h3>
<p>The inverse-variance random-effects NMA model adjusted to include
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â„“</mo><mo>=</mo><mn>1</mn><mo>,</mo><mn>2</mn><mo>,</mo><mi>â€¦</mi><mo>,</mo><mi>p</mi></mrow><annotation encoding="application/x-tex">\ell =1, 2, \ldots, p</annotation></semantics></math>
inconsistency factors is described by the following equation
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>ğ²</mi><mo mathvariant="bold">=</mo><mi>ğ—</mi><mi>ğ›</mi><mo mathvariant="bold">+</mo><mi>ğ›ƒ</mi><mo mathvariant="bold">+</mo><mi>ğ›</mi><mi>ğ™</mi><mo mathvariant="bold">+</mo><mi>ğ›œ</mi></mrow><mo>,</mo><mspace width="1.0em"></mspace><mi>ğ›œ</mi><mo>âˆ¼</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>ğŸ</mn><mo>,</mo><mi>ğšº</mi><mo stretchy="true" form="postfix">)</mo></mrow><mspace width="1.0em"></mspace><mi>a</mi><mi>n</mi><mi>d</mi><mspace width="1.0em"></mspace><mi>ğ›ƒ</mi><mo>âˆ¼</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>ğŸ</mn><mo>,</mo><mi>ğš«</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex"> \boldsymbol{y = X\mu + \beta +bZ + \epsilon}, \quad \boldsymbol{\epsilon} \sim N(\boldsymbol{0}, \boldsymbol{\Sigma} ) \quad and \quad \boldsymbol{\beta} \sim N(\boldsymbol{0}, \boldsymbol{\Delta})</annotation></semantics></math></p>
<p>where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ğ²</mi><annotation encoding="application/x-tex">\boldsymbol{y}</annotation></semantics></math>
denotes the treatmentsâ€™ effect,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ğ—</mi><annotation encoding="application/x-tex">\boldsymbol{X}</annotation></semantics></math>
the design matrix,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ğ›</mi><annotation encoding="application/x-tex">\boldsymbol{\mu}</annotation></semantics></math>
the underlying basic contrasts,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ğ›ƒ</mi><annotation encoding="application/x-tex">\boldsymbol{\beta}</annotation></semantics></math>
the normally distributed random-effects,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ğ›</mi><annotation encoding="application/x-tex">\boldsymbol{b}</annotation></semantics></math>
the effect of inconsistency factors,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ğ™</mi><annotation encoding="application/x-tex">\boldsymbol{Z}</annotation></semantics></math>
the inconsistency factorâ€™s index matrix, and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ğ›œ</mi><annotation encoding="application/x-tex">\boldsymbol{\epsilon}</annotation></semantics></math>
the normally distributed sampling errors. Correlation matrix
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ğš«</mi><annotation encoding="application/x-tex">\boldsymbol{\Delta}</annotation></semantics></math>
is a block diagonal matrix, assuming common heterogeneity across
treatment comparisons, while covariance matrix
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ğšº</mi><annotation encoding="application/x-tex">\boldsymbol{\Sigma}</annotation></semantics></math>
is assumed known and obtained from the data based on <span class="citation">Franchini et al. (<a href="#ref-franchini2012accounting">2012</a>)</span>. Matrix
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ğ™</mi><annotation encoding="application/x-tex">\boldsymbol{Z}</annotation></semantics></math>
contains as elements values 1, -1 and 0, indicating in which comparisons
inconsistency factor is added. Among the choices that may be considered
for the specification of the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ğ™</mi><annotation encoding="application/x-tex">\boldsymbol{Z}</annotation></semantics></math>
matrix are the Lu and Ades model <span class="citation">(<a href="#ref-lu2006assessing">Lu and Ades 2006</a>)</span>, the
design-by-treatment model <span class="citation">(<a href="#ref-higgins2012consistency">Higgins et al. 2012</a>)</span>, and
the random-effects implementation of the design-by-treatment model <span class="citation">(<a href="#ref-jackson2014design">Jackson et al.
2014</a>)</span>.</p>
</div>
<div class="section level3">
<h3 id="variable-selection">Variable Selection<a class="anchor" aria-label="anchor" href="#variable-selection"></a>
</h3>
<p>In SSIFS the effect of an inconsistency factor
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mo>â„“</mo><annotation encoding="application/x-tex">\ell</annotation></semantics></math>
is described from a mixture of two normal distributions, which can be
written as
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mo>â„“</mo></msub><mo stretchy="false" form="prefix">|</mo><msub><mi>Î³</mi><mo>â„“</mo></msub><mo>âˆ¼</mo><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>âˆ’</mo><msub><mi>Î³</mi><mo>â„“</mo></msub><mo stretchy="true" form="postfix">)</mo></mrow><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>0</mn><mo>,</mo><msubsup><mi>Ïˆ</mi><mo>â„“</mo><mn>2</mn></msubsup><mo stretchy="true" form="postfix">)</mo></mrow><mo>+</mo><msub><mi>Î³</mi><mo>â„“</mo></msub><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>0</mn><mo>,</mo><msup><mi>c</mi><mn>2</mn></msup><msubsup><mi>Ïˆ</mi><mo>â„“</mo><mn>2</mn></msubsup><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">b_{\ell} | \gamma_{\ell} \sim (1-\gamma_{\ell}) N(0, \psi_{\ell}^{2}) + \gamma_\ell N(0, c^{2}\psi_\ell^{2})</annotation></semantics></math>
where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>b</mi><mo>â„“</mo></msub><annotation encoding="application/x-tex">b_{\ell}</annotation></semantics></math>
is the effect of the inconsistency factor,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Î³</mi><mo>â„“</mo></msub><annotation encoding="application/x-tex">\gamma_{\ell}</annotation></semantics></math>
is an auxiliary variable indicating if the inconsistency factor is
included in the NMA model, and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>c</mi><annotation encoding="application/x-tex">c</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Ïˆ</mi><mo>â„“</mo></msub><annotation encoding="application/x-tex">\psi_{\ell}</annotation></semantics></math>
are tuning parameters controlling the mixing ability of the method.</p>
<p>In matrix notation SSIFS is written as
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>ğ›</mi><mo stretchy="false" form="prefix" mathvariant="bold">|</mo><mi>ğ›„</mi></mrow><mo>âˆ¼</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>ğŸ</mn><mo>,</mo><mrow><msub><mi>ğƒ</mi><mi>ğ›„</mi></msub><mi>ğ‘</mi><msub><mi>ğƒ</mi><mi>ğ›„</mi></msub></mrow><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\boldsymbol{b | \gamma} \sim N( \boldsymbol{0}, \boldsymbol{D_\gamma R D_\gamma} ) </annotation></semantics></math>
where
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ğƒ</mi><mi>ğ›„</mi></msub><mo>=</mo><mrow><mo stretchy="true" form="prefix">(</mo><mtable><mtr><mtd columnalign="center" style="text-align: center"><msub><mi>a</mi><mn>1</mn></msub><msub><mi>Ïˆ</mi><mn>1</mn></msub></mtd><mtd columnalign="center" style="text-align: center"><mn>0</mn></mtd><mtd columnalign="center" style="text-align: center"><mi>â€¦</mi></mtd><mtd columnalign="center" style="text-align: center"><mn>0</mn></mtd></mtr><mtr><mtd columnalign="center" style="text-align: center"><mn>0</mn></mtd><mtd columnalign="center" style="text-align: center"><msub><mi>a</mi><mn>2</mn></msub><msub><mi>Ïˆ</mi><mn>2</mn></msub></mtd><mtd columnalign="center" style="text-align: center"><mi>â€¦</mi></mtd><mtd columnalign="center" style="text-align: center"><mn>0</mn></mtd></mtr><mtr><mtd columnalign="center" style="text-align: center"><mi>â‹®</mi></mtd><mtd columnalign="center" style="text-align: center"><mi>â‹®</mi></mtd><mtd columnalign="center" style="text-align: center"><mo>â‹±</mo></mtd><mtd columnalign="center" style="text-align: center"><mi>â‹®</mi></mtd></mtr><mtr><mtd columnalign="center" style="text-align: center"><mn>0</mn></mtd><mtd columnalign="center" style="text-align: center"><mn>0</mn></mtd><mtd columnalign="center" style="text-align: center"><mi>â€¦</mi></mtd><mtd columnalign="center" style="text-align: center"><msub><mi>a</mi><mtext mathvariant="normal">p</mtext></msub><msub><mi>Ïˆ</mi><mtext mathvariant="normal">p</mtext></msub></mtd></mtr></mtable><mo stretchy="true" form="postfix">)</mo></mrow><mo>,</mo><mspace width="2.0em"></mspace><msub><mi>a</mi><mo>â„“</mo></msub><mo>=</mo><mrow><mo stretchy="true" form="prefix">{</mo><mtable><mtr><mtd columnalign="left" style="text-align: left"><mn>1</mn><mo>,</mo><mspace width="1.0em"></mspace><msub><mi>Î³</mi><mo>â„“</mo></msub><mo>=</mo><mn>0</mn></mtd></mtr><mtr><mtd columnalign="left" style="text-align: left"><mi>c</mi><mo>,</mo><mspace width="1.0em"></mspace><msub><mi>Î³</mi><mo>â„“</mo></msub><mo>=</mo><mn>1</mn></mtd></mtr></mtable></mrow><mi>.</mi></mrow><annotation encoding="application/x-tex">
\boldsymbol{D}_{\boldsymbol{\gamma}}=
  \begin{pmatrix}
    a_1 \psi_1 &amp; 0 &amp; \dots &amp; 0 \\
    0 &amp; a_2 \psi_2 &amp; \dots &amp; 0 \\
    \vdots &amp; \vdots &amp; \ddots &amp; \vdots \\
    0 &amp; 0 &amp; \dots &amp; a_\text{p} \psi_\text{p}
  \end{pmatrix}
  ,\qquad a_\ell= \begin{cases} 
  1, \quad \gamma_\ell=0\\
  c, \quad \gamma_\ell=1
  \end{cases}.
</annotation></semantics></math> Matrix
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ğ‘</mi><annotation encoding="application/x-tex">\boldsymbol{R}</annotation></semantics></math>
denotes the prior correlation between the inconsistency factors. We can
assume that inconsistency factors are independent by setting
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ğ‘</mi><mo>=</mo><mi>ğˆ</mi></mrow><annotation encoding="application/x-tex">\boldsymbol{R} = \boldsymbol{I}</annotation></semantics></math>,
or we can assume a dependency between inconsistency factors by using a
Zellner g-prior as described bellow
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ğ‘</mi><mo>=</mo><mi>g</mi><mrow><mo stretchy="true" form="prefix" mathvariant="bold">(</mo><msup><mi>ğ™</mi><mi mathvariant="bold">â€²</mi></msup><mi>ğ™</mi><mo stretchy="true" form="postfix" mathvariant="bold">)</mo></mrow><msup><mi>Ïƒ</mi><mn>2</mn></msup><mo>,</mo><mspace width="1.0em"></mspace><mi>Ï€</mi><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>Ïƒ</mi><mn>2</mn></msup><mo stretchy="true" form="postfix">)</mo></mrow><mo>âˆ</mo><mfrac><mn>1</mn><msup><mi>Ïƒ</mi><mn>2</mn></msup></mfrac><mi>.</mi></mrow><annotation encoding="application/x-tex">\boldsymbol{R}=g \boldsymbol{ (Z^{'}Z) } \sigma^{2}, \quad \pi (\sigma^{2} ) \propto \frac{1}{\sigma^2}.</annotation></semantics></math>
For the specification of the parameter
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>g</mi><annotation encoding="application/x-tex">g</annotation></semantics></math>,
the unit information criterion <span class="citation">(<a href="#ref-kass1995reference">Kass and Wasserman 1995</a>)</span> is
used, which translates in SSIFS to the total number of observed
comparisons in the network.</p>
<p>Prior inclusion probabilities of the inconsistency factors are
specified as
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Î³</mi><mo>â„“</mo></msub><mo>âˆ¼</mo><mi>B</mi><mi>e</mi><mi>r</mi><mi>n</mi><mi>o</mi><mi>u</mi><mi>l</mi><mi>l</mi><mi>i</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>âˆ’</mo><msubsup><mi>Ï€</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi></mrow><mfrac><mn>1</mn><mi>p</mi></mfrac></msubsup><mo stretchy="true" form="postfix">)</mo></mrow><mo>,</mo><mspace width="1.0em"></mspace><mo>â„“</mo><mo>=</mo><mn>1</mn><mo>,</mo><mn>2</mn><mo>,</mo><mi>â€¦</mi><mo>,</mo><mi>p</mi></mrow><annotation encoding="application/x-tex">\gamma_\ell \sim Bernoulli(1 - \pi_{con}^{ \frac{1}{p}}),  \quad \ell = 1, 2, \ldots, p</annotation></semantics></math>
where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Ï€</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi></mrow></msub><annotation encoding="application/x-tex">\pi_{con}</annotation></semantics></math>
is the probability to have a consistent network and reflects our prior
believes on how likely is to have a consistent network. In a review of
201 networks, 44 networks were found to be globally inconsistent <span class="citation">(<a href="#ref-veroniki2021prevalence">Veroniki et al.
2021</a>)</span>. Thus,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ï€</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi></mrow></msub><mo>âˆ¼</mo><mi>B</mi><mi>e</mi><mi>t</mi><mi>a</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>157</mn><mo>,</mo><mn>44</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\pi_{con} \sim Beta(157, 44)</annotation></semantics></math>
is proposed.</p>
</div>
<div class="section level3">
<h3 id="tuning">Tuning<a class="anchor" aria-label="anchor" href="#tuning"></a>
</h3>
<p>Tuning is crucial in SSIFS in order to ensure a good mixing of the
method. Ideally, the effect of an inconsistency factor when it is
included in the NMA model should lie in an area close to zero, and far
away from this area when it is not included in the NMA model. Regarding
parameter
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>c</mi><annotation encoding="application/x-tex">c</annotation></semantics></math>,
values between 10 and 100 usually perform well in most cases <span class="citation">(<a href="#ref-george1993variable">George and McCulloch
1993</a>; <a href="#ref-doi:https://doi.org/10.1002/9781118445112.stat07829" class="external-link">Perrakis
and Ntzoufras 2015</a>)</span>. Possible values of parameter
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Ïˆ</mi><mo>â„“</mo></msub><annotation encoding="application/x-tex">\psi_\ell</annotation></semantics></math>
could be obtained from a pilot MCMC run of the NMA model as the standard
deviation of the inconsistency factors.</p>
<div class="section level4">
<h4 id="minimum-value-of-inconsistency">Minimum value of inconsistency<a class="anchor" aria-label="anchor" href="#minimum-value-of-inconsistency"></a>
</h4>
<p>By properly tuning parameters
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>c</mi><annotation encoding="application/x-tex">c</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Ïˆ</mi><mo>â„“</mo></msub><annotation encoding="application/x-tex">\psi_\ell</annotation></semantics></math>,
a difference between direct and indirect evidence that is of practical
significance (say
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Ï‰</mi><annotation encoding="application/x-tex">\omega</annotation></semantics></math>)
can be defined. Thus, an inconsistency factor with a coefficient larger
than
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Ï‰</mi><annotation encoding="application/x-tex">\omega</annotation></semantics></math>
in absolute values
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">|</mo><msub><mi>b</mi><mo>â„“</mo></msub><mo stretchy="true" form="postfix">|</mo></mrow><mo>&gt;</mo><mi>Ï‰</mi></mrow><annotation encoding="application/x-tex">|b_{\ell}| &gt; \omega</annotation></semantics></math>),
should be included in the NMA model
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Î³</mi><mo>â„“</mo></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\gamma_\ell = 1</annotation></semantics></math>).
In the case where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ğ‘</mi><mo mathvariant="bold">=</mo><mi>ğˆ</mi></mrow><annotation encoding="application/x-tex">\boldsymbol{R = I}</annotation></semantics></math>,
the inconsistency factor will have higher probability to be included in
the NMA model when
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo stretchy="true" form="prefix">|</mo><msub><mi>b</mi><mo>â„“</mo></msub><mo stretchy="true" form="postfix">|</mo></mrow><mo>&gt;</mo><msub><mi>Ïˆ</mi><mo>â„“</mo></msub><msqrt><mrow><mi>Î¾</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></msqrt><mo>,</mo><mspace width="1.0em"></mspace><mi>Î¾</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>c</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mfrac><mrow><mn>2</mn><msup><mi>c</mi><mn>2</mn></msup><mo>log</mo><mi>c</mi></mrow><mrow><msup><mi>c</mi><mn>2</mn></msup><mo>âˆ’</mo><mn>1</mn></mrow></mfrac><mi>.</mi></mrow><annotation encoding="application/x-tex">|b_\ell |&gt; \psi_\ell \sqrt{\xi(c)}, \quad \xi(c) = \frac{2c^2 \log{c}}{c^2 -1}.</annotation></semantics></math>
For example, if a difference above 0.2 is considered important, one
possible parameterization is to set
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">c = 10</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ïˆ</mi><mo>â„“</mo></msub><mo>=</mo><mfrac><mn>0.2</mn><msqrt><mrow><mi>Î¾</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>10</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow></msqrt></mfrac><mo>â‰ˆ</mo><mn>0.1</mn><mi>.</mi></mrow><annotation encoding="application/x-tex">\psi_\ell = \frac{0.2}{\sqrt{\xi(10)}} \approx 0.1.</annotation></semantics></math></p>
</div>
</div>
<div class="section level3">
<h3 id="inconsistency-detection">Inconsistency Detection<a class="anchor" aria-label="anchor" href="#inconsistency-detection"></a>
</h3>
<p>Inconsistency in SSIFS is evaluated by examining the posterior
inclusion probabilities of the inconsistency factors, the posterior
model probabilities, the posterior model odds and the Bayes factor of
the consistent NMA model over the inconsistent NMA model.</p>
<div class="section level4">
<h4 id="posterior-inclusion-probabilities">Posterior Inclusion probabilities<a class="anchor" aria-label="anchor" href="#posterior-inclusion-probabilities"></a>
</h4>
<p>Posterior inclusion probabilities estimated as the average of times
the inconsistency factor was included in the NMA model in the MCMC
draws. Estimates above 0.5 indicates local inconsistency, which cause
global inconsistency to the network.</p>
</div>
<div class="section level4">
<h4 id="posterior-model-odds">Posterior Model Odds<a class="anchor" aria-label="anchor" href="#posterior-model-odds"></a>
</h4>
<p>Posterior model odds are obtained as the ratio of the posterior model
probabilities which are estimated as
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mover><mrow><mo stretchy="true" form="prefix">(</mo><mi>m</mi><mo stretchy="false" form="prefix">|</mo><mi>ğ²</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo accent="true">Ì‚</mo></mover><mo>=</mo><mfrac><mn>1</mn><mrow><mi>M</mi><mo>âˆ’</mo><mi>B</mi></mrow></mfrac><munderover><mo>âˆ‘</mo><mrow><mi>t</mi><mo>=</mo><mi>B</mi><mo>+</mo><mn>1</mn></mrow><mi>M</mi></munderover><mrow><mi>I</mi><mrow><mo stretchy="true" form="prefix">(</mo><msup><mi>m</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo stretchy="true" form="postfix">)</mo></mrow></msup><mo>=</mo><mi>m</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mo>,</mo><mspace width="1.0em"></mspace><mi>m</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>ğ›„</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><munderover><mo>âˆ‘</mo><mrow><mo>â„“</mo><mo>=</mo><mn>1</mn></mrow><mi>p</mi></munderover><mrow><msub><mi>Î³</mi><mo>â„“</mo></msub><msup><mn>2</mn><mrow><mo>â„“</mo><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow></mrow><annotation encoding="application/x-tex">f\hat{(m|\boldsymbol{y})}=\frac{1}{M-B} \sum_{t=B+1}^{M}{I(m^{(t)}=m)}, \quad m(\boldsymbol{\gamma})=\sum_{\ell = 1}^{p}{\gamma_\ell 2^{\ell-1}}</annotation></semantics></math>
where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math>
is the number of MCMC iterations,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>B</mi><annotation encoding="application/x-tex">B</annotation></semantics></math>
the burn-in period and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>m</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>t</mi><mo stretchy="true" form="postfix">)</mo></mrow></msup><annotation encoding="application/x-tex">m^{(t)}</annotation></semantics></math>
a model indicator which transforms the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ğ›„</mi><annotation encoding="application/x-tex">\boldsymbol{\gamma}</annotation></semantics></math>
to a unique decimal number. By examined the posterior odds of the
consistent NMA model
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>ğ›„</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">m(\boldsymbol{\gamma}) = 0</annotation></semantics></math>)
over the inconsistent NMA models, we can evaluate the consistency
assumption. Also, the comparison between the consistent NMA model
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>ğ›„</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">m(\boldsymbol{\gamma}) = 0</annotation></semantics></math>)
over all the other observed inconsistent NMA models
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>ğ›„</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>â‰ </mo><mn>0</mn></mrow><annotation encoding="application/x-tex">m(\boldsymbol{\gamma}) \ne 0</annotation></semantics></math>),
indicates if the NMA model is globally consistent.</p>
</div>
</div>
<div class="section level2">
<h2 id="implementation-through-ssifs">Implementation through ssifs<a class="anchor" aria-label="anchor" href="#implementation-through-ssifs"></a>
</h2>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<p>You can install the development version of <strong>ssifs</strong>
like so:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"georgiosseitidis/ssifs"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="data">Data<a class="anchor" aria-label="anchor" href="#data"></a>
</h3>
<p><code>ssifs</code> requires the contrast-based data used for the NMA
model. Also, in the multi-arm studies, all possible comparisons must be
provided. In the case where the network is disconnected,
<code>ssifs</code> keeps only those studies that belong to the largest
sub-network in order to maintain one connected network.</p>
</div>
<div class="section level3">
<h3 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h3>
<p>Load the brief alcohol intervention dataset from the
<code>ssifs</code> package. The dataset is from a published NMA <span class="citation">(<a href="#ref-seitidis2022network">Seitidis et al.
2022</a>; <a href="#ref-hennessy2019comparative">Hennessy et al.
2019</a>)</span> and contains 37 studies evaluating the comparative
effectiveness of brief alcohol interventions on preventing hazardous
drinking in college students.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/georgiosseitidis/ssifs" class="external-link">ssifs</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"Alcohol"</span>, package <span class="op">=</span> <span class="st">"ssifs"</span><span class="op">)</span></span></code></pre></div>
<p>Prepare the data for the <code>ssifs</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">TE</span> <span class="op">&lt;-</span> <span class="va">Alcohol</span><span class="op">$</span><span class="va">TE</span></span>
<span><span class="va">seTE</span> <span class="op">&lt;-</span> <span class="va">Alcohol</span><span class="op">$</span><span class="va">seTE</span></span>
<span><span class="va">study</span> <span class="op">&lt;-</span> <span class="va">Alcohol</span><span class="op">$</span><span class="va">studyid</span></span>
<span><span class="va">treat1</span> <span class="op">&lt;-</span> <span class="va">Alcohol</span><span class="op">$</span><span class="va">treat1</span></span>
<span><span class="va">treat2</span> <span class="op">&lt;-</span> <span class="va">Alcohol</span><span class="op">$</span><span class="va">treat2</span></span></code></pre></div>
<p>Run the <code>ssifs</code> function, using <em>AO-CT</em> as a
reference intervention.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">12</span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ssifs.html">ssifs</a></span><span class="op">(</span>TE <span class="op">=</span> <span class="va">TE</span>, seTE <span class="op">=</span> <span class="va">seTE</span>, studlab <span class="op">=</span> <span class="va">study</span>, treat1 <span class="op">=</span> <span class="va">treat1</span>, treat2 <span class="op">=</span> <span class="va">treat2</span>, ref <span class="op">=</span> <span class="st">"AO-CT"</span><span class="op">)</span></span></code></pre></div>
<p>The function by default for the specification of the matrix
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ğ™</mi><annotation encoding="application/x-tex">\boldsymbol{Z}</annotation></semantics></math>
uses the design-by-treatment model. You can use the Lu &amp; Ades model
by setting the argument <code>method = "LuAdes"</code>, or the
random-effects implementation of the design-by-treatment model by
setting <code>method = "Jackson"</code>. Also, the function by default
specifies the correlation matrix
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>ğ‘</mi><annotation encoding="application/x-tex">\boldsymbol{R}</annotation></semantics></math>
by using a Zellner g-prior. You can assume that inconsistency factors
are independent by setting the argument
<code>zellner = FALSE</code>.</p>
<p>Regarding the prior inclusion probabilities, the function assumes
that
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ï€</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi></mrow></msub><mo>âˆ¼</mo><mi>B</mi><mi>e</mi><mi>t</mi><mi>a</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>157</mn><mo>,</mo><mn>44</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\pi_{con} \sim Beta(157, 44)</annotation></semantics></math>
(argument <code>rpcon = TRUE</code>). By setting the argument
<code>rpcon = FALSE</code> you can set the probability of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Ï€</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi></mrow></msub><annotation encoding="application/x-tex">\pi_{con}</annotation></semantics></math>
fixed. If <code>rpcon = FALSE</code>, the function assumes that
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Ï€</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi></mrow></msub><mo>=</mo><mn>0.5</mn></mrow><annotation encoding="application/x-tex">\pi_{con} = 0.5</annotation></semantics></math>.
You can change this probability from the argument
<code>pcons</code>.</p>
</div>
<div class="section level3">
<h3 id="detection-of-inconsistency">Detection of inconsistency<a class="anchor" aria-label="anchor" href="#detection-of-inconsistency"></a>
</h3>
<div class="section level4">
<h4 id="posterior-inclusion-probabilities-1">Posterior inclusion probabilities<a class="anchor" aria-label="anchor" href="#posterior-inclusion-probabilities-1"></a>
</h4>
<p>Posterior inclusion probabilities can be obtained like so:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m</span><span class="op">$</span><span class="va">Posterior_inclusion_probabilities</span></span>
<span><span class="co">#&gt;            Comparison            Design    PIP       b    b.lb   b.ub</span></span>
<span><span class="co">#&gt; 1     Alc101 ; BASICS      Alc101BASICS 0.0234  0.0006 -0.1243 0.1480</span></span>
<span><span class="co">#&gt; 2      AO-CT ; Alc101       AO-CTAlc101 0.0208  0.0027 -0.1354 0.2078</span></span>
<span><span class="co">#&gt; 3     e-CHUG ; BASICS      e-CHUGBASICS 0.0236 -0.0011 -0.1974 0.1716</span></span>
<span><span class="co">#&gt; 4  Active-CT ; THRIVE   Active-CTTHRIVE 0.0237 -0.0019 -0.1798 0.0978</span></span>
<span><span class="co">#&gt; 5      AO-CT ; AlcEdu AO-CTAlcEdue-CHUG 0.0226  0.0021 -0.1023 0.1670</span></span>
<span><span class="co">#&gt; 6      AO-CT ; e-CHUG AO-CTAlcEdue-CHUG 0.0241  0.0015 -0.1064 0.1527</span></span>
<span><span class="co">#&gt; 7      AO-CT ; e-CHUG AO-CTe-CHUGBASICS 0.0216 -0.0016 -0.1522 0.1170</span></span>
<span><span class="co">#&gt; 8      AO-CT ; BASICS AO-CTe-CHUGBASICS 0.0235  0.0034 -0.0808 0.1778</span></span>
<span><span class="co">#&gt; 9      AO-CT ; AlcEdu AlcEduAO-CTAlc101 0.0242 -0.0024 -0.1250 0.0724</span></span>
<span><span class="co">#&gt; 10     AO-CT ; Alc101 AlcEduAO-CTAlc101 0.0204  0.0035 -0.1172 0.2037</span></span></code></pre></div>
<p>The first two columns refer to comparisons where inconsistency
factors are added. For example, the first row refers to the
inconsistency factor that added to the comparisons between interventions
<em>Alc101</em> and <em>BASICS</em>, obtained from the two-arm studies
that compare these interventions. The fifth row refers to the
inconsistency factor that added to the comparison between interventions
<em>AO-CT</em> and <em>AlcEdu</em>, obtained from the multi-arm studies
that compare the interventions <em>AO-CT</em>, <em>AlcEdu</em> and
<em>e-CHUG</em>. Column <strong>PIP</strong> refers to posterior
inclusion probability, while columns <strong>b,</strong>
<strong>b.lb</strong> and <strong>b.ub</strong> to the inconsistency
factors effect estimates with the corresponding 95% credible
interval.</p>
<p>If <code>method = "LuAdes"</code>, the column <strong>Design</strong>
is <code>NA</code>. This is because the Lu &amp; Ades model accounts
only for loop inconsistencies.</p>
<p>In this example, the posterior inclusion probabilities suggest that
the network is globally and locally consistent, since there are not any
significant local inconsistencies that causes global inconsistency to
the network (posterior inclusion probabilities
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰ˆ</mo><mn>0</mn><mo>&lt;</mo><mn>0.5</mn></mrow><annotation encoding="application/x-tex">\approx 0 &lt; 0.5</annotation></semantics></math>).
Also, note that the corresponding effect estimates are not significant
and close to zero.</p>
</div>
<div class="section level4">
<h4 id="posterior-model-odds-1">Posterior model odds<a class="anchor" aria-label="anchor" href="#posterior-model-odds-1"></a>
</h4>
<p>The posterior model odds can be obtained like so:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">m</span><span class="op">$</span><span class="va">Posterior_Odds</span><span class="op">)</span></span>
<span><span class="co">#&gt;                                IFs  Freq f(m|y) PO_IFCONS</span></span>
<span><span class="co">#&gt; 1                           No IFs 63573 0.7947    1.0000</span></span>
<span><span class="co">#&gt; 2 AO-CT ; AlcEdu_AlcEduAO-CTAlc101  1556 0.0194   40.8567</span></span>
<span><span class="co">#&gt; 3               Active-CT ; THRIVE  1547 0.0193   41.0944</span></span>
<span><span class="co">#&gt; 4                  e-CHUG ; BASICS  1536 0.0192   41.3887</span></span>
<span><span class="co">#&gt; 5 AO-CT ; BASICS_AO-CTe-CHUGBASICS  1532 0.0192   41.4967</span></span>
<span><span class="co">#&gt; 6 AO-CT ; e-CHUG_AO-CTAlcEdue-CHUG  1522 0.0190   41.7694</span></span></code></pre></div>
<p>Column <strong>IFs</strong> refers to the model observed in the MCMC
draws (Inconsistency factors are separated by the symbol
<code>,</code>), <strong>Freq</strong> refers to the number of times the
model was observed in the MCMC draws, <strong>f(m|y)</strong> denotes
the posterior model probability and <strong>PO_IFCONS</strong> to the
posterior odds of the consistent NMA model (<em>NO IFs</em>) over the
model in the corresponding row. An estimate over 1 favors the consistent
NMA model.</p>
<p>In this example, the first row refers to the consistent NMA model
(<em>NO IFs</em>), showing that the posterior model probability of the
consistent NMA model is 0.79. The posterior odds is 1 as expected, since
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>O</mi><mo>=</mo><mfrac><mrow><mi>f</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>m</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi></mrow></msub><mo stretchy="false" form="prefix">|</mo><mi>ğ²</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mi>f</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>m</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi></mrow></msub><mo stretchy="false" form="prefix">|</mo><mi>ğ²</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><mo>=</mo><mfrac><mn>0.7943</mn><mn>0.7943</mn></mfrac><mo>=</mo><mn>1</mn><mi>.</mi></mrow><annotation encoding="application/x-tex">PO = \frac{f(m_{con}|\boldsymbol{y})}{f(m_{con}|\boldsymbol{y})}=\frac{0.7943}{0.7943} = 1.</annotation></semantics></math>
The third row refers to the inconsistent NMA model (say
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>m</mi><mn>3</mn></msub><annotation encoding="application/x-tex">m_{3}</annotation></semantics></math>)
where inconsistency factor was added in the comparisons between
interventions <em>AO-CT</em> and <em>e-CHUG</em>, obtained from the
multi-arm studies that compare the interventions <em>AO-CT</em>,
<em>e-CHUG</em> and <em>BASICS</em>. The posterior odds calculated as
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><msub><mi>O</mi><mrow><msub><mi>m</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi></mrow></msub><msub><mi>m</mi><mn>3</mn></msub></mrow></msub><mo>=</mo><mfrac><mrow><mi>f</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>m</mi><mrow><mi>c</mi><mi>o</mi><mi>n</mi></mrow></msub><mo stretchy="false" form="prefix">|</mo><mi>ğ²</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mi>f</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>m</mi><mn>3</mn></msub><mo stretchy="false" form="prefix">|</mo><mi>ğ²</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><mo>=</mo><mfrac><mn>0.7942875</mn><mn>0.0193125</mn></mfrac><mo>=</mo><mn>41.1282</mn><mi>.</mi></mrow><annotation encoding="application/x-tex">PO_{m_{con}m_{3}} = \frac{f(m_{con}|\boldsymbol{y})}{f(m_{3}|\boldsymbol{y})} =\frac{0.7942875}{0.0193125} = 41.1282.</annotation></semantics></math></p>
<p>By looking the posterior model probabilities and the posterior model
odds, we conclude that the consistent NMA is the most dominant model
since
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover><mrow><mi>f</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>m</mi><mo stretchy="false" form="prefix">|</mo><mi>y</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mo accent="true">Ì‚</mo></mover><mo>=</mo><mn>0.79</mn></mrow><annotation encoding="application/x-tex">\hat{f(m|y)}=0.79</annotation></semantics></math>.
Also, the posterior odds clearly favors the consistent NMA model. Thus,
we conclude that the network is both globally and locally consistent,
because significant local inconsistencies that causes globally
inconsistency to network were not observed.</p>
</div>
<div class="section level4">
<h4 id="global-test-of-inconsistency">Global test of inconsistency<a class="anchor" aria-label="anchor" href="#global-test-of-inconsistency"></a>
</h4>
<p>The global test of inconsistency is conducted by calculating the
Bayes factor of the consistent NMA model over the rest inconsistent NMA
models. Thus, the posterior model probabilities of the inconsistent NMA
models are summed. An estimate above 1 indicates that the network is
globally consistent.</p>
<p>The global test of inconsistency can be obtained like so:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">m</span><span class="op">$</span><span class="va">Bayes_Factor</span></span>
<span><span class="co">#&gt; [1] 1.0783</span></span></code></pre></div>
<p>In the example, the Bayes factor estimated above 1, suggesting that
the network is globally consistent.</p>
</div>
</div>
<div class="section level3">
<h3 id="models-mixing-ability">Modelâ€™s mixing ability<a class="anchor" aria-label="anchor" href="#models-mixing-ability"></a>
</h3>
<p>You can test the mixing ability of the <em>ssifs</em> model like
so:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/spike.slab.html">spike.slab</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-franchini2012accounting" class="csl-entry">
Franchini, Angelo J, Sofia Dias, Anthony E Ades, Jeroen P Jansen, and
Nicky J Welton. 2012. <span>â€œAccounting for Correlation in Network
Meta-Analysis with Multi-Arm Trials.â€</span> <em>Research Synthesis
Methods</em> 3 (2): 142â€“60.
</div>
<div id="ref-george1993variable" class="csl-entry">
George, Edward I, and Robert E McCulloch. 1993. <span>â€œVariable
Selection via Gibbs Sampling.â€</span> <em>Journal of the American
Statistical Association</em> 88 (423): 881â€“89.
</div>
<div id="ref-hennessy2019comparative" class="csl-entry">
Hennessy, Emily Alden, Emily E Tanner-Smith, Dimitris Mavridis, and Sean
P Grant. 2019. <span>â€œComparative Effectiveness of Brief Alcohol
Interventions for College Students: Results from a Network
Meta-Analysis.â€</span> <em>Prevention Science</em> 20 (5): 715â€“40.
</div>
<div id="ref-higgins2012consistency" class="csl-entry">
Higgins, JPT, D Jackson, JK Barrett, G Lu, AE Ades, and IR White. 2012.
<span>â€œConsistency and Inconsistency in Network Meta-Analysis: Concepts
and Models for Multi-Arm Studies.â€</span> <em>Research Synthesis
Methods</em> 3 (2): 98â€“110.
</div>
<div id="ref-jackson2014design" class="csl-entry">
Jackson, Dan, Jessica K Barrett, Stephen Rice, Ian R White, and Julian
PT Higgins. 2014. <span>â€œA Design-by-Treatment Interaction Model for
Network Meta-Analysis with Random Inconsistency Effects.â€</span>
<em>Statistics in Medicine</em> 33 (21): 3639â€“54.
</div>
<div id="ref-kass1995reference" class="csl-entry">
Kass, Robert E, and Larry Wasserman. 1995. <span>â€œA Reference Bayesian
Test for Nested Hypotheses and Its Relationship to the Schwarz
Criterion.â€</span> <em>Journal of the American Statistical
Association</em> 90 (431): 928â€“34.
</div>
<div id="ref-lu2006assessing" class="csl-entry">
Lu, Guobing, and AE Ades. 2006. <span>â€œAssessing Evidence Inconsistency
in Mixed Treatment Comparisons.â€</span> <em>Journal of the American
Statistical Association</em> 101 (474): 447â€“59.
</div>
<div id="ref-doi:https://doi.org/10.1002/9781118445112.stat07829" class="csl-entry">
Perrakis, Konstantinos, and Ioannis Ntzoufras. 2015. <span>â€œStochastic
Search Variable Selection (SSVS).â€</span> In <em>Wiley StatsRef:
Statistics Reference Online</em>, 1â€“6. John Wiley &amp; Sons, Ltd.
</div>
<div id="ref-seitidis2022network" class="csl-entry">
Seitidis, G, S Nikolakopoulos, EA Hennessy, EE Tanner-Smith, and D
Mavridis. 2022. <span>â€œNetwork Meta-Analysis Techniques for Synthesizing
Prevention Science Evidence.â€</span> <em>Prevention Science</em> 23 (3):
415â€“24.
</div>
<div id="ref-veroniki2021prevalence" class="csl-entry">
Veroniki, Areti Angeliki, Sofia Tsokani, Ian R White, Guido Schwarzer,
Gerta RÃ¼cker, Dimitris Mavridis, Julian Higgins, and Georgia Salanti.
2021. <span>â€œPrevalence of Evidence of Inconsistency and Its Association
with Network Structural Characteristics in 201 Published Networks of
Interventions.â€</span> <em>BMC Medical Research Methodology</em> 21 (1):
1â€“10.
</div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Georgios Seitidis, Stavros Nikolakopoulos, Ioannis Ntzoufras, Dimitris Mavridis.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
